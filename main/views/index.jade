extends layout
append js
  script(src='/js/main.js')
  script#ping-result-template(type='text/x-handlebars-template').
    <table class="table table-bordered">
      <tr>
        <th style='width: 1%;'><span class='glyphicon glyphicon-link' /></th>
        <th>Location</th>
        <th>IP</th>
        <th>Min (ms)</th>
        <th>Max (ms)</th>
        <th>Avg (ms)</th>
        <th>Loss (%)</th>
        <th>Options</th>
      </tr>
      {{#each pingResults}}
        <tr id='{{this.id}}'>
          <td class='pulsar'>
            <span class='glyphicon glyphicon-heart text-danger' />
          </td>
          {{#if this.sponsor.url}}
            <td>
              <a href='{{this.sponsor.url}}'>{{this.location}}</a>
            </td>
          {{else}}
            <td>{{this.location}}</td>
          {{/if}}
          <td>{{this.result.ip}}</td>
          <td>{{this.result.min}}</td>
          <td>{{this.result.max}}</td>
          <td>{{this.result.avg}}</td>
          <td>{{this.result.loss}}</td>
          <td>
            <a href='#'>Traceroute</a>
          </td>
        </tr>
      {{else}}
        <tr>
          <td colspan='8'>Waiting for results...</td>
        </tr>
      {{/each}}
    </table>
block content
  +alerts()
  .main
    p.site-description Free online ping test and traceroute service with multiple locations worldwide
    form#ping(action="#", method="post")
      input.ping#host(type="text", name="host", size="10", value="")
      select#group(name="group")
        each row in groups
          option(value=row.name)= row.name
      button.btn.btn-success(type="submit") Ping
    .instructions Enter a domain or an ip address, e.g. google.com or 72.14.204.99
  #pingResultWrapper.wrapper.hidden
    #pingResults.results
